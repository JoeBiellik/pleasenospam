extends layout

block head
  style.
    body {
      font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
    }
    header form {
      max-width: 500px;
      margin-top: 1.8rem;
    }
    header form .input-group-addon {
      border-left: none;
    }
    header form .input-group-btn .dropdown-toggle {
       border-radius: 0;
    }
    .input-group-addon {
      background-color: #fff;
      color: #ccc;
    }
    .hidden {
      display: none !important;
      visibility: hidden;
    }
    .alert-link {
      font-weight: normal;
    }
    table thead tr th:nth-child(1) {
      width: 35%;
    }
    table thead tr th:nth-child(2) {
      width: 40%;
    }
    table thead tr th:nth-child(3) {
      width: 25%;
    }

    .spinner {
      margin: 75px auto 0;
      width: 70px;
      text-align: center;
    }
    .spinner > div {
      width: 18px;
      height: 18px;
      background-color: #333;

      border-radius: 100%;
      display: inline-block;
      -webkit-animation: sk-bouncedelay 1.4s infinite ease-in-out both;
      animation: sk-bouncedelay 1.4s infinite ease-in-out both;
    }
    .spinner .bounce1 {
      -webkit-animation-delay: -0.32s;
      animation-delay: -0.32s;
    }
    .spinner .bounce2 {
      -webkit-animation-delay: -0.16s;
      animation-delay: -0.16s;
    }
    @-webkit-keyframes sk-bouncedelay {
      0%, 80%, 100% { -webkit-transform: scale(0) }
      40% { -webkit-transform: scale(1.0) }
    }
    @keyframes sk-bouncedelay {
      0%, 80%, 100% { 
        -webkit-transform: scale(0);
        transform: scale(0);
      } 40% { 
        -webkit-transform: scale(1.0);
        transform: scale(1.0);
      }
    }

block content
  main.container.m-y-md
    header
      h1.display-2.pull-left.m-b-lg.m-r-lg #{title}

      form.input-group.pull-right
        input.form-control.text-right#address(type='text', required)
        span.input-group-addon @
        div.input-group-btn
          button.btn.btn-secondary.dropdown-toggle#domain(data-toggle='dropdown') #{domains[0]}
          div.dropdown-menu.dropdown-menu-right
            each domain in domains
              a.dropdown-item(href='#') #{domain}
          button.btn.btn-secondary.btn-success Go

    img(style='position: absolute; top: 0; left: 0; border: 0;', src='https://postmarket.kz/public/images/Beta-Ribbon.png', alt='Beta')
    //a(href='https://github.com/JoeBiellik/pleasenospam')
      img(style='position: absolute; top: 0; right: 0; border: 0;', src='https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png', alt='Fork me on GitHub')

    div.p-y-md.clearfix

    div.spinner
      div.bounce1
      div.bounce2
      div.bounce3

    div.alert.alert-danger.hidden
      p #[strong Something has gone wrong!] Please check you entered a valid email address or #[a.alert-link(href='/') try reloading the page]

    div.jumbotron.p-y-md.hidden
      button.btn.btn-primary-outline.m-t-md.pull-right Send me a test email
      h1 No email yet!
      p.lead.m-b-0 New emails will show up here in real-time

    table.table.hidden
      thead
        tr
          th From
          th Subject
          th
      tbody

  include templates/email.jade

  div#delete-modal.modal.fade
    div.modal-dialog
      div.modal-content
        div.modal-header
          button.close(data-dismiss='modal')
            span &times;
          h4.modal-title Delete Email
        div.modal-body
          p.m-b-0 Are you sure you want to delete this email?
        div.modal-footer
          button.btn.btn-secondary(data-dismiss='modal') Cancel
          button.btn.btn-danger(data-dismiss='modal') Delete

  script(src='https://code.jquery.com/jquery-2.1.4.min.js')
  script(src='https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.4/handlebars.min.js')
  script(src='https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/moment.min.js')
  script(src='https://cdnjs.cloudflare.com/ajax/libs/livestamp/1.1.2/livestamp.min.js')
  script(src='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-alpha/js/bootstrap.min.js')
  script(src='/main.js')
